(function(t){function e(e){for(var s,n,o=e[0],h=e[1],c=e[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,o=1;o<i.length;o++){var h=i[o];0!==a[h]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var s={},a={app:0},r=[];function n(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=h;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0024":function(t,e,i){"use strict";var s=i("bdd3"),a=i.n(s);a.a},"034f":function(t,e,i){"use strict";var s=i("64a9"),a=i.n(s);a.a},1826:function(t,e,i){"use strict";var s=i("cf23"),a=i.n(s);a.a},"3b77":function(t,e,i){"use strict";var s=i("e1ce"),a=i.n(s);a.a},"486e":function(t,e,i){"use strict";var s=i("aa31"),a=i.n(s);a.a},4915:function(t,e,i){t.exports=i.p+"img/s332logotype.e277cc74.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view"),i("Studio332Footer")],1)},r=[],n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("span",{staticClass:"cr"},[s("span",[t._v("Â© 2018 Studio332")]),s("img",{staticClass:"s332foot",attrs:{align:"middle",src:i("e88e")}})])])}],h={name:"Studio332Footer"},c=h,l=(i("6e92"),i("2877")),u=Object(l["a"])(c,n,o,!1,null,"0f1feb6d",null),d=u.exports,f={components:{Studio332Footer:d}},p=f,g=(i("034f"),Object(l["a"])(p,a,r,!1,null,null,null)),v=g.exports,m=i("8c4f"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Studio332Header",{attrs:{page:"home"}}),t._m(0)],1)},y=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("h2",[t._v("Welcome")]),i("p",[t._v("\n         Studio332 is dedicated to the creation of high quality apps for the web and mobile devices. We have\n         decades of experience in a wide range of technologies including\n         gaming, backend services, database desgn, educational software and web app development. Some of our core\n         skills include:\n      ")]),i("p",{staticClass:"list"},[t._v("Go, Vue.js, Ruby on Rails, Java, Neo4j, MySQL and PostgresSQL")]),i("p",[t._v("Check out some of our publicly released code here:")]),i("ul",[i("li",[i("a",{attrs:{href:"https://github.com/louffoster/BlastWords"}},[t._v("Android game: BlastWords")])]),i("li",[i("a",{attrs:{href:"https://github.com/louffoster/flickit"}},[t._v("Android game: FlickIt Alley")])]),i("li",[i("a",{attrs:{href:"https://github.com/louffoster/studio332-site"}},[t._v("This site")])])])])}],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("router-link",{attrs:{to:{name:"home"}}},[s("span",[s("img",{staticClass:"s332",attrs:{src:i("4915")}})])]),s("ul",{staticClass:"menu"},[s("router-link",{attrs:{to:{name:"home"}}},[s("li",{class:t.className("home")},[t._v("Home")])]),s("router-link",{attrs:{to:{name:"games"}}},[s("li",{class:t.className("games")},[t._v("Games")])])],1)],1)},k=[],S={name:"Studio332Header",props:{page:String},methods:{className:function(t){if(console.log("classNme: page =["+this.page+"]"),t===this.page)return"active"}}},O=S,x=(i("3b77"),Object(l["a"])(O,w,k,!1,null,"7fd8bb7c",null)),C=x.exports,j={name:"home",components:{Studio332Header:C}},T=j,R=(i("1826"),Object(l["a"])(T,b,y,!1,null,"9e4ec3e2",null)),_=R.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Studio332Header",{attrs:{page:"games"}}),i("div",{staticClass:"content"},[i("h2",[t._v("Games")]),t._m(0),i("p",[i("b",[t._v("LatticeWords")]),t._v(": Shift rows and columns of letters to form words. Make several at \n      at time to score bonus points. Score as high as possible before time runs out.\n      "),i("router-link",{attrs:{to:{name:"latticewords"}}},[i("span",[t._v("Play Now!")])])],1),i("p",[i("b",[t._v("Squares")]),t._v(": Prototype game with rotating clusters of squares. No gameplay, just an experiment.\n      "),i("router-link",{attrs:{to:{name:"squares"}}},[i("span",[t._v("View Now!")])])],1),i("p",[i("b",[t._v("Wordomino")]),t._v(": Prototype game combining word finding with a pentomino puzzle.\n      "),i("router-link",{attrs:{to:{name:"wordomino"}}},[i("span",[t._v("View Now!")])])],1)])],1)},L=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n      Lately, Studio332 has been experimenting with browser-based games using\n      "),i("a",{attrs:{href:"https://phaser.io/",target:"_blank"}},[t._v("Phaser")]),t._v(". The first sample is a bit rough, \n      but is up and working. Play it at the link below. More to some soon!\n    ")])}],E={name:"games",components:{Studio332Header:C}},P=E,B=(i("0024"),Object(l["a"])(P,I,L,!1,null,"34336e8e",null)),F=B.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Studio332Header",{attrs:{page:"games"}}),i("div",{attrs:{id:"lwgame"}})],1)},z=[],M=i("64b8"),D=i.n(M),A=i("d225"),N=i("b0b4"),W=i("308d"),H=i("6bb5"),Z=i("4e2b"),U=i("a78e"),$=i.n(U),q=function(t){function e(){return Object(A["a"])(this,e),Object(W["a"])(this,Object(H["a"])(e).call(this,{key:"menu"}))}return Object(Z["a"])(e,t),Object(N["a"])(e,[{key:"preload",value:function(){}},{key:"create",value:function(){var t={fontFamily:"Arial",fontSize:"56px",fill:"#fff",stroke:"#448AFF",strokeThickness:10},e=this.add.text(300,120,"LatticeWords",t);e.setOrigin(.5),e.setShadow(3,3,"#222",2,!0,!1);var i={fontFamily:"Arial",fontSize:"22px",fill:"#fff",stroke:"#222",strokeThickness:4,inputEnabled:!0},s=this.add.text(300,220,"Play Now!",i);s.setOrigin(.5),s.setFontSize(32),s.setInteractive(),s.on("pointerup",(function(){this.scene.start("latticewords")}),this),this.input.on("gameobjectover",(function(t,e){e.setTint(16776960)})),this.input.on("gameobjectout",(function(t,e){e.clearTint()}));var a=this.add.text(300,400,"Best Score",i);a.setOrigin(.5);var r=this.add.text(300,440,"0",i);r.setOrigin(.5);var n=$.a.get("bestScore");n&&r.setText(n)}}]),e}(D.a.Scene),V=(i("f576"),i("7f7f"),i("6c7b"),i("6762"),i("28a5"),i("bc3a")),J=i.n(V),K=250,Q="#0e267f",X="#2f95ff",Y="#dd5",tt="#139",et=function(){function t(e,i,s,a,r){Object(A["a"])(this,t),this.scene=e,this.rows=i,this.cols=s,this.tileSize=a,this.red=!1,this.animating=!1,this.priorTile=null,this.pool=r,this.bkg=this.scene.add.image(0,0,"grid-bkg"),this.bkg.setOrigin(0,0),this.width=this.bkg.width,this.height=this.bkg.height,this.tilesGroup=this.scene.add.container(70,110,[this.bkg]);var n=this.scene.add.sprite(0,40,"grid");n.setOrigin(0,0),this.grid=[]}return Object(N["a"])(t,[{key:"empty",value:function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.cols;e++)this.grid[t][e].letter.destroy();this.red=!1,this.animating=!1,this.grid=[]}},{key:"fill",value:function(){this.red=!1,this.animating=!1,this.grid=[];for(var t=0;t<this.rows;t++){this.grid.push([]);for(var e=0;e<this.cols;e++){var i=this.pool.pop();this.grid[t].push(this.addTile(i,t,e,!1,!1))}}}},{key:"destroySelectedTiles",value:function(t){for(var e=[],i=[],s=0;s<this.rows;s++)for(var a=0;a<this.cols;a++){var r=this.grid[s][a];1==r.selected&&(e.push(s+","+a),i.push(r.letter))}this.scene.tweens.add({targets:i,alpha:0,duration:250,ease:"Linear",onCompleteParams:[this],onComplete:function(s,a,r){for(var n=0;n<e.length;n++){var o=e[n].split(","),h=i[n];h.destroy();var c=t.pop();0==t.length&&t.refill(),r.grid[o[0]][o[1]]=r.addTile(c,o[0],o[1])}}})}},{key:"checkWords",value:function(t){var e,i,s=[],a="",r=[];for(e=0;e<this.rows;e++){for(i=0;i<this.cols;i++)!0===this.grid[e][i].selected?(a+=this.grid[e][i].letter.text,r.push(e+","+i)):(a.length>1&&s.push(a),a="");a.length>1&&(s.push(a),a="")}for(a="",i=0;i<this.cols;i++){for(e=0;e<this.rows;e++)if(!0===this.grid[e][i].selected){a+=this.grid[e][i].letter.text;var n=e+","+i;0==r.includes(n)&&r.push(n)}else a.length>1&&s.push(a),a="";a.length>1&&(s.push(a),a="")}if(0!==s.length){var o=this;J.a.post("/api/latticewords/check",{words:s.join(",")}).then((function(e){o.handleResults(e.data,r,t)})).catch((function(t){console.log(t)}))}}},{key:"handleResults",value:function(t,e,i){if(0!==t){for(var s=0,a=[],r=0;r<e.length;r++){var n=e[r].split(","),o=this.grid[n[0]][n[1]];1==o.bonus&&(s=20),a.push(o.letter)}i(t,s);var h=this;this.scene.tweens.add({targets:a,alpha:0,duration:250,ease:"Linear",onComplete:function(){h.replaceUsedTiles(e)}})}else this.showFailure(e)}},{key:"replaceUsedTiles",value:function(t){for(var e=0;e<t.length;e++){var i=t[e].split(","),s=this.grid[i[0]][i[1]];s.letter.destroy();var a=this.pool.pop();0==this.pool.length&&this.refillLetters(),this.grid[i[0]][i[1]]=this.addTile(a,i[0],i[1])}}},{key:"showFailure",value:function(t){for(var e=[],i=0;i<t.length;i++){var s=t[i].split(","),a=this.grid[s[0]][s[1]];a.selected=!1,a.letter.setFill("#ff0000"),e.push(a)}var r=0,n=!1;this.scene.tweens.addCounter({from:0,to:50,duration:1e3,onUpdate:function(){if(r+=1,10==r){r=0,n=!n;for(var t=0;t<e.length;t++)0==n?e[t].letter.setFill("#ff0000"):e[t].letter.setFill(Q)}},onComplete:function(){for(var t=0;t<e.length;t++)e[t].letter.setFill(Q)}})}},{key:"flash",value:function(){this.red=!this.red,0==this.red?this.bkg.clearTint():this.bkg.setTint("0xccffff")}},{key:"addTile",value:function(t,e,i,s,a){var r=42+this.tileSize*i,n=43+this.tileSize*e,o=!1,h={fontSize:"52px",fontWeight:"bold",fill:Q,align:"center"},c=this.scene.add.text(r,n,t,h);if(c.setOrigin(.5),!0===s&&c.setFill(X),!1===a&&(c.alpha=0,this.scene.tweens.add({targets:c,alpha:1,duration:250,ease:"Linear"}),0==this.hasBonus())){var l=Math.floor(100*Math.random());l>96&&(c.setFill(Y),c.setStroke(tt,4),o=!0)}return this.tilesGroup.add(c),{letter:c,selected:s,bonus:o}}},{key:"hasBonus",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var i=0;i<this.cols;i++){var s=this.grid[e][i];if("undefined"===typeof s)return!1;if(1==s.bonus&&(t++,3===t))return!0}return!1}},{key:"handlePointerUp",value:function(){this.priorTile=null}},{key:"handlePointerDown",value:function(t,e){var i=t-70,s=e-110;if(console.log("W: "+this.width),i<10||s<10||i>=this.width-20||s>=this.height-20)this.priorTile=null;else{var a=Math.floor(i/this.tileSize),r=Math.floor(s/this.tileSize);console.log("X: "+i+", Y: "+s+" : R="+r+" C="+a);var n=this.grid[r][a];this.priorTile!=n&&(this.priorTile=n,0==n.selected?(n.selected=!0,n.letter.setFill(X)):(n.selected=!1,n.bonus?n.letter.setFill(Y):n.letter.setFill(Q)))}}},{key:"shiftTiles",value:function(t){switch(t[0]){case"R":this.shiftRight(parseInt(t[1],10));break;case"L":this.shiftLeft(parseInt(t[1],10));break;case"U":this.shiftUp(parseInt(t[1],10));break;case"D":this.shiftDown(parseInt(t[1],10));break}}},{key:"shiftRight",value:function(t){if(!this.animating){this.animating=!0;for(var e=this.grid[t],i=e[e.length-1],s=this.addTile(i.letter.text,t,-1,i.selected,!0),a=[s.letter],r=0;r<this.cols;r++)a.push(e[r].letter);this.scene.tweens.add({targets:a,x:"+="+this.tileSize,duration:K,ease:"Linear",onCompleteParams:[this],onComplete:function(t,a,r){for(var n=e.length-1;n>0;n--){var o=e[n-1];e[n]=o}e[0]=s,i.letter.destroy(),r.animating=!1}})}}},{key:"shiftLeft",value:function(t){if(!this.animating){this.animating=!0;for(var e=this.grid[t],i=e[0],s=this.addTile(i.letter.text,t,this.rows,i.selected,!0),a=[s.letter],r=0;r<this.cols;r++)a.push(e[r].letter);this.scene.tweens.add({targets:a,x:"-="+this.tileSize,duration:K,ease:"Linear",onCompleteParams:[this],onComplete:function(t,a,r){for(var n=0;n<e.length-1;n++){var o=e[n+1];e[n]=o}e[e.length-1]=s,i.letter.destroy(),r.animating=!1}})}}},{key:"shiftUp",value:function(t){if(!this.animating){this.animating=!0;for(var e=[],i=[],s=0;s<this.rows;s++){var a=this.grid[s][t];e.push(a),i.push(a.letter)}var r=e[0],n=this.addTile(r.letter.text,this.rows,t,r.selected,!0);i.push(n.letter),this.scene.tweens.add({targets:i,y:"-="+this.tileSize,duration:K,ease:"Linear",onCompleteParams:[this],onComplete:function(i,s,a){for(var o=0;o<e.length-1;o++){var h=e[o+1];a.grid[o][t]=h}a.grid[e.length-1][t]=n,r.letter.destroy(),a.animating=!1}})}}},{key:"shiftDown",value:function(t){if(!this.animating){this.animating=!0;for(var e=[],i=[],s=0;s<this.rows;s++){var a=this.grid[s][t];e.push(a),i.push(a.letter)}var r=e[e.length-1],n=this.addTile(r.letter.text,-1,t,r.selected,!0);i.push(n.letter),this.scene.tweens.add({targets:i,y:"+="+this.tileSize,duration:K,ease:"Linear",onCompleteParams:[this],onComplete:function(i,s,a){for(var o=e.length-1;o>0;o--){var h=e[o-1];a.grid[o][t]=h}a.grid[0][t]=n,r.letter.destroy(),a.animating=!1}})}}}]),t}(),it=function(){function t(){Object(A["a"])(this,t),this.pool=[]}return Object(N["a"])(t,[{key:"tilesLeft",value:function(){return this.pool.length}},{key:"pop",value:function(){return this.pool.pop()}},{key:"refill",value:function(){var t,e;this.pool=[];var i={2:"J,K,Q,X,Z",3:"B,C,F,H,M,P,V,W,Y",4:"G",5:"L",6:"D,S,U",8:"N",9:"T,R",11:"O,I",13:"A",18:"E"};for(var s in i){var a=i[s].split(","),r=parseInt(s,10);for(t=0;t<a.length;t++)for(e=0;e<r;e++)this.pool.push(a[t])}for(t=this.pool.length;t;t-=1){e=Math.floor(Math.random()*t);var n=this.pool[t-1];this.pool[t-1]=this.pool[e],this.pool[e]=n}}}]),t}(),st=75,at=112,rt=152,nt=6,ot=6,ht=180,ct=function(t){function e(){return Object(A["a"])(this,e),Object(W["a"])(this,Object(H["a"])(e).call(this,{key:"latticewords"}))}return Object(Z["a"])(e,t),Object(N["a"])(e,[{key:"preload",value:function(){this.load.image("grid-bkg","/latticewords/images/grid-bkg.png"),this.load.spritesheet("pause","/latticewords/images/pause.png",{frameWidth:32,frameHeight:32}),this.load.image("grid","/latticewords/images/grid.png"),this.load.image("pause-bkg","/latticewords/images/pause_bkg.png"),this.load.image("left","/latticewords/images/left.png"),this.load.image("right","/latticewords/images/right.png"),this.load.image("up","/latticewords/images/up.png"),this.load.image("down","/latticewords/images/down.png"),this.load.image("clear","/latticewords/images/clear.png"),this.load.image("check","/latticewords/images/check.png")}},{key:"create",value:function(){this.pool=new it,this.pool.refill(),this.animating=!1,this.activeButton="",this.clearsRemaining=3,this.gameOver=!1,this.pointerDown=!1,this.paused=!1,this.clearsRemaining=3,this.textCfg={fontFamily:"Arial",fill:"#fff",stroke:"#222",strokeThickness:6},this.addScoreAndTimer(),this.grid=new et(this,nt,ot,st,this.pool),this.grid.fill(),this.addRowControls(),this.addColControls(),this.createPauseMenu(),this.createGameOverMenu(),this.clearBtn=this.add.sprite(0,640,"clear"),this.clearBtn.setInteractive(),this.clearBtn.setOrigin(0,1),this.clearBtn.on("pointerdown",this.onClearClick,this),this.clearBtn.on("pointerover",(function(){this.clearsRemaining>0&&this.clearBtn.setTint("0xcc6666")}),this),this.clearCounter=this.add.text(24,620,"3",this.textCfg),this.clearCounter.setOrigin(.5,.5),this.clearCounter.setFontSize(28),this.clearCounter.setStroke(0,4);var t=this.add.image(600,640,"check");t.setOrigin(1,1),t.setInteractive(),t.on("pointerdown",this.onCheckClick,this),t.on("pointerover",(function(){t.setTint("0x00cc00")}),this),this.input.on("gameobjectover",(function(t,e){e!=this.clearBtn&&e.setTint("0x00ffff")}),this),this.input.on("gameobjectout",(function(t,e){e.clearTint()})),this.input.on("pointerdown",(function(t){this.paused||this.gameOver||(this.pointerDown=!0,this.grid.handlePointerDown(t.x,t.y))}),this),this.input.on("pointerup",(function(){console.log("GRID UP"),this.pointerDown=!1,this.paused||this.gameOver||this.grid.handlePointerUp()}),this),this.input.on("pointermove",(function(t){this.paused||this.gameOver||this.pointerDown&&this.grid.handlePointerDown(t.x,t.y)}),this)}},{key:"update",value:function(){1!=this.gameOver&&1!=this.paused&&(""==this.activeButton||this.grid.shiftTiles(this.activeButton))}},{key:"restartGame",value:function(){this.score=0,this.gameOver=!1,this.clearsRemaining=3,this.clearCounter.setText("3"),this.timeLeft=ht;var t=Math.floor(this.timeLeft/60),e=this.timeLeft-60*t;this.timerDisplay.setText(("0"+t).substr(-2)+":"+("0"+e).substr(-2)),this.animating=!1,this.activeButton="",this.pool.refill(),this.grid.empty(),this.grid.fill(),this.pauseGroup.visible=!1,this.gameOverGroup.visible=!1,this.paused=!1,this.clearBtn.alpha=1,this.clearCounter.alpha=1,this.pauseBtn.setFrame(0),this.gameTimer.paused=!1}},{key:"createGameOverMenu",value:function(){var t=this.add.text(230,80,"Game Over",this.textCfg);t.setFontSize(36),t.setOrigin(.5);var e=this.add.image(0,0,"pause-bkg");e.setOrigin(0,0);var i=this.add.text(230,220,"Play Again?",this.textCfg);i.setFontSize(24),i.setOrigin(.5),i.setInteractive(),i.on("pointerup",(function(){this.restartGame()}),this),this.bestLabel=this.add.text(230,350,"Best Score",this.textCfg),this.bestLabel.setFontSize(22),this.bestLabel.setOrigin(.5),this.bestScore=this.add.text(230,380,"0",this.textCfg),this.bestScore.setFontSize(16),this.bestScore.setOrigin(.5);var s=$.a.get("bestScore");s&&this.bestScore.setText(s),this.gameOverGroup=this.add.container(70,110,[e,t,i,this.bestLabel,this.bestScore]),this.gameOverGroup.setVisible(!1)}},{key:"createPauseMenu",value:function(){var t=this.add.text(230,80,"Game Paused",this.textCfg);t.setFontSize(36),t.setOrigin(.5);var e=this.add.image(0,0,"pause-bkg");e.setOrigin(0,0);var i=this.add.text(230,200,"Resume",this.textCfg);i.setFontSize(24),i.setOrigin(.5),i.setInteractive(),i.on("pointerup",(function(){this.pauseBtn.setFrame(0),this.gameTimer.paused=!1,this.pauseGroup.setVisible(!1),this.paused=!1}),this);var s=this.add.text(230,270,"Restart",this.textCfg);s.setFontSize(24),s.setOrigin(.5),s.setInteractive(),s.on("pointerup",(function(){this.restartGame()}),this),this.pauseGroup=this.add.container(70,110,[e,t,i,s]),this.pauseGroup.setVisible(!1)}},{key:"addScoreAndTimer",value:function(){this.score=0,this.timeLeft=ht;var t=new D.a.Geom.Rectangle(0,0,600,40),e=this.add.graphics({fillStyle:{color:153}});e.fillRectShape(t),this.scoreDisplay=this.add.text(10,3,"000000",this.textCfg),this.scoreDisplay.setFontSize(26),this.timerDisplay=this.add.text(590,3,"03:00",this.textCfg),this.timerDisplay.setFontSize(26),this.timerDisplay.setOrigin(1,0),this.gameTimer=this.time.addEvent({delay:1e3,callback:this.tick,callbackScope:this,loop:!0}),this.paused=!1,this.pauseBtn=this.add.sprite(300,4,"pause"),this.pauseBtn.setInteractive(),this.pauseBtn.setOrigin(.5,0),this.pauseBtn.on("pointerdown",(function(){this.paused=!this.paused,1==this.paused?(this.pauseBtn.setFrame(1),this.gameTimer.paused=!0,this.pauseGroup.setVisible(!0)):(this.pauseBtn.setFrame(0),this.gameTimer.paused=!1,this.pauseGroup.setVisible(!1))}),this)}},{key:"addShiftButton",value:function(t,e,i,s){var a=s[0].toUpperCase()+i,r=this.add.sprite(t,e,s);r.on("pointerdown",(function(){this.activeButton=r.name}),this),r.on("pointerup",(function(){this.activeButton=""}),this),r.setName(a),r.setOrigin(.5,.5),r.setInteractive()}},{key:"addRowControls",value:function(){for(var t=st,e=0;e<nt;e++)this.addShiftButton(54,rt+t*e,e,"left"),this.addShiftButton(545,rt+t*e,e,"right")}},{key:"addColControls",value:function(){for(var t=st,e=0;e<ot;e++)this.addShiftButton(at+t*e,94,e,"up"),this.addShiftButton(at+t*e,585,e,"down")}},{key:"tick",value:function(){if(!this.gameOver){this.timeLeft--;var t=Math.floor(this.timeLeft/60),e=this.timeLeft-60*t;this.timerDisplay.setText(("0"+t).substr(-2)+":"+("0"+e).substr(-2));var i=""+this.score;if(this.scoreDisplay.setText(i.padStart(6,"0")),this.timeLeft<=15&&this.grid.flash(),0==this.timeLeft){this.gameOver=!0,this.gameOverGroup.setVisible(!0);var s=parseInt($.a.get("bestScore"),10);s||(s=0),this.score>s?($.a.set("bestScore",this.score),this.bestScore.setText(this.score),this.bestLabel.setText("New Best Score!")):this.bestLabel.setText("Best Score")}}}},{key:"onClearClick",value:function(){this.paused||this.gameOver||0==this.clearsRemaining||(this.clearsRemaining-=1,this.clearCounter.setText(""+this.clearsRemaining),0==this.clearsRemaining&&(this.clearBtn.alpha=.5,this.clearCounter.alpha=.5),this.grid.destroySelectedTiles(this.pool))}},{key:"onCheckClick",value:function(){if(!this.paused&&!this.gameOver){var t=this;this.grid.checkWords((function(e,i){t.scoreHandler(e,i)}))}}},{key:"scoreHandler",value:function(t,e){this.score+=t,this.timeLeft+=e}}]),e}(D.a.Scene),lt={name:"LatticeWords",components:{Studio332Header:C},mounted:function(){var t={scale:{mode:D.a.Scale.FIT,autoCenter:D.a.Scale.NO_CENTER},parent:"lwgame",width:600,height:640,backgroundColor:"3F51B5",title:"LatticeWords",scene:[q,ct]};window.game=new D.a.Game(t)},destroyed:function(){window.game.destroy(!0)}},ut=lt,dt=(i("486e"),Object(l["a"])(ut,G,z,!1,null,"26009169",null)),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Studio332Header",{attrs:{page:"games"}}),i("div",{attrs:{id:"wordomino"}})],1)},gt=[],vt=function(){function t(e,i,s,a){Object(A["a"])(this,t);var r=t.SIZE;this.scene=e,this.rect=new D.a.Geom.Rectangle(i,s,r,r),this.letter=a,this.selected=!1}return Object(N["a"])(t,null,[{key:"SIZE",get:function(){return 45}}]),Object(N["a"])(t,[{key:"isEmpty",value:function(){return""==this.letter}},{key:"setLetter",value:function(t){this.letter=t;var e={fontFamily:"Josefin Slab",fontSize:"24px"},i=this.scene.add.text(this.rect.left+22,this.rect.top+23,this.letter,e);i.setOrigin(.5)}},{key:"hit",value:function(t,e){var i=this.rect.contains(t,e);return i&&(this.selected=!this.selected),i}},{key:"draw",value:function(){this.scene.graphics.lineStyle(1,16777215),this.scene.graphics.strokeRectShape(this.rect)}}]),t}(),mt=function(){function t(e,i,s){Object(A["a"])(this,t),this.pool=[],this.tiles=[];for(var a=vt.SIZE,r=0;r<5;r++){this.tiles.push([]);for(var n=0;n<5;n++){var o=i+a*n,h=s+a*r,c=new vt(e,o,h,"");this.tiles[r].push(c)}}}return Object(N["a"])(t,[{key:"draw",value:function(){for(var t=0;t<5;t++)for(var e=0;e<5;e++)this.tiles[t][e].draw()}},{key:"stockSize",value:function(){return this.pool.length}},{key:"fillGrid",value:function(){this.stockSize()<25&&this.fillLetterStock();for(var t=0;t<5;t++)for(var e=0;e<5;e++)this.tiles[t][e].isEmpty()&&this.tiles[t][e].setLetter(this.pool.pop())}},{key:"fillLetterStock",value:function(){var t,e;this.pool=[];var i={2:"J,K,Q,X,Z",3:"B,C,F,H,M,P,V,W,Y",4:"G",5:"L",6:"D,S,U",8:"N",9:"T,R",11:"O,I",13:"A",18:"E"};for(var s in i){var a=i[s].split(","),r=parseInt(s,10);for(t=0;t<a.length;t++)for(e=0;e<r;e++)this.pool.push(a[t])}for(t=this.pool.length;t;t-=1){e=Math.floor(Math.random()*t);var n=this.pool[t-1];this.pool[t-1]=this.pool[e],this.pool[e]=n}}}]),t}(),bt=i("75fc"),yt=(i("ac6a"),i("bd86")),wt=function t(e){Object(A["a"])(this,t),Object(yt["a"])(this,"startRow",0),Object(yt["a"])(this,"startCol",0),Object(yt["a"])(this,"wordLength",0),Object(yt["a"])(this,"direction",""),this.startRow=e.row,this.startCol=e.col,this.wordLength=e.wordLength,this.direction=e.direction},kt=function t(e){var i=this;Object(A["a"])(this,t),Object(yt["a"])(this,"name",""),Object(yt["a"])(this,"layout",[]),Object(yt["a"])(this,"words",[]),this.name=e.name,this.layout=[],this.words=[];var s=[];e.layout.forEach((function(t){s.push(t),5==s.length&&(i.layout.push(s.slice(0)),s=[])})),e.words.forEach((function(t){var e=new wt(t);i.words.push(e)}))},St=function(){function t(e,i,s){Object(A["a"])(this,t),Object(yt["a"])(this,"cardInfo",null),Object(yt["a"])(this,"size",22),this.scene=e,this.x=i,this.y=s,this.mouseOver=!1,this.selected=!1,this.disabled=!1,this.fullRect=new Phaser.Geom.Rectangle(i,s,5*this.size,5*this.size)}return Object(N["a"])(t,[{key:"setCardInfo",value:function(t){this.cardInfo=t,this.mouseOver=!1,this.seleced=!1,this.disabled=!1}},{key:"mouseMove",value:function(t,e){var i=this.mouseOver;this.mouseOver=this.fullRect.contains(t,e),this.mouseOver!=i&&this.draw()}},{key:"mouseDown",value:function(t,e){return this.fullRect.contains(t,e)&&(this.selected=!0),this.selected}},{key:"disable",value:function(){this.disabled=!0}},{key:"draw",value:function(){null==this.cardInfo?this.drawLoading():this.drawLayout()}},{key:"drawLoading",value:function(){this.scene.graphics.lineStyle(1,16777215),this.scene.graphics.strokeRectShape(this.fullRect)}},{key:"drawLayout",value:function(){this.scene.graphics.fillStyle(14342874),this.selected?this.scene.graphics.fillStyle(30719):this.mouseOver&&this.scene.graphics.fillStyle(43775),this.scene.graphics.lineStyle(1,4473924),this.disabled&&(this.scene.graphics.lineStyle(1,2236962),this.scene.graphics.fillStyle(3355443));for(var t=0;t<5;t++)for(var e=0;e<5;e++){var i=this.x+this.size*e,s=this.y+this.size*t,a=new Phaser.Geom.Rectangle(i,s,this.size,this.size);1==this.cardInfo.layout[t][e]&&this.scene.graphics.fillRectShape(a),this.scene.graphics.strokeRectShape(a)}this.scene.graphics.lineStyle(1,16777215),this.mouseOver&&this.scene.graphics.lineStyle(1,26367),this.disabled&&this.scene.graphics.lineStyle(1,3355443),this.scene.graphics.strokeRectShape(this.fullRect)}}]),t}(),Ot=function(){function t(e){var i=this;Object(A["a"])(this,t),this.loaded=!1,this.error=null,this.stock=[],this.cards=[],this.choices=[],this.scene=e,this.active=!1,J.a.get("/api/wordomino/shapes").then((function(t){i.createCards(t.data.cards),i.refill(),i.pickTwo(),i.draw()})).catch((function(t){i.error=t}))}return Object(N["a"])(t,[{key:"createCards",value:function(t){var e=this;this.stock=[],t.forEach((function(t){var i=new kt(t);e.stock.push(i)})),this.loaded=!0}},{key:"pickTwo",value:function(){var t=this;this.choices.forEach((function(e){var i=t.cards.pop();e.setCardInfo(i)})),this.active=!0}},{key:"setChoiceCoordinates",value:function(t,e,i,s){this.choices.push(new St(this.scene,t,e)),this.choices.push(new St(this.scene,i,s))}},{key:"refill",value:function(){var t;this.cards=this.stock.slice(0),(t=this.cards).push.apply(t,Object(bt["a"])(this.stock.slice(0)));for(var e=this.cards.length;e;e-=1){var i=Math.floor(Math.random()*e),s=this.cards[e-1];this.cards[e-1]=this.cards[i],this.cards[i]=s}}},{key:"isLoaded",value:function(){return this.loaded}},{key:"isActive",value:function(){return this.active}},{key:"failed",value:function(){return null!=this.error}},{key:"mouseMove",value:function(t,e){this.active&&this.choices.forEach((function(i){i.mouseMove(t,e)}))}},{key:"mouseDown",value:function(t,e){var i=this;if(this.active){var s=!1;this.choices.forEach((function(a){a.mouseDown(t,e)&&(s=!0,i.active=!1)})),s&&(this.choices.forEach((function(t){0==t.selected&&t.disable()})),this.draw())}}},{key:"cardPicked",value:function(){var t=null;return this.choices.forEach((function(e){1==e.selected&&(t=e.cardInfo)})),t}},{key:"draw",value:function(){this.choices.forEach((function(t){t.draw()}))}}]),t}(),xt=function(){function t(e,i,s){Object(A["a"])(this,t),this.x=i,this.y=s,this.scene=e,this.reset()}return Object(N["a"])(t,null,[{key:"SIZE",get:function(){return 25}}]),Object(N["a"])(t,[{key:"reset",value:function(){this.spaces=[];for(var t=0;t<9;t++){this.spaces.push([]);for(var e=0;e<9;e++)this.spaces[t].push(0)}}},{key:"draw",value:function(){var e=t.SIZE;this.scene.graphics.lineStyle(1,4473924),this.scene.graphics.fillStyle(14342874);for(var i=0;i<9;i++)for(var s=0;s<9;s++){var a=this.x+e*s,r=this.y+e*i,n=new D.a.Geom.Rectangle(a,r,e,e);this.scene.graphics.strokeRectShape(n),1==this.spaces[i][s]&&this.scene.graphics.fillRectShape(n)}this.scene.graphics.lineStyle(1,16777215);var o=new D.a.Geom.Rectangle(this.x,this.y,9*e,9*e);this.scene.graphics.strokeRectShape(o)}}]),t}(),Ct=function(){function t(e,i,s){Object(A["a"])(this,t),this.x=i,this.y=s,this.scene=e,this.cardInfo=null,this.reset()}return Object(N["a"])(t,null,[{key:"TILE_SIZE",get:function(){return 45}}]),Object(N["a"])(t,[{key:"reset",value:function(){this.cardInfo=null,this.spaces=[];for(var t=0;t<5;t++){this.spaces.push([]);for(var e=0;e<5;e++)this.spaces[t].push("")}}},{key:"setCard",value:function(t){this.cardInfo=t}},{key:"isCardSelected",value:function(){return null!=this.cardInfo}},{key:"draw",value:function(){var e=t.TILE_SIZE;this.scene.graphics.fillStyle(4473924),this.scene.graphics.lineStyle(1,15066597);for(var i=0;i<5;i++)for(var s=0;s<5;s++){var a=this.x+e*s,r=this.y+e*i,n=new D.a.Geom.Rectangle(a,r,e,e);this.scene.graphics.strokeRectShape(n),this.isCardSelected()&&0==this.cardInfo.layout[i][s]&&this.scene.graphics.fillRectShape(n)}}}]),t}(),jt=function(){function t(e,i,s){Object(A["a"])(this,t),this.scene=e,this.message="",this.rect=new D.a.Geom.Rectangle(i,s,170,26);var a={fontFamily:"Josefin Slab",fontSize:"14px",align:"center",color:"#ffffff"};this.msgDisplay=this.scene.add.text(this.rect.left+85,this.rect.top+13,this.message,a),this.msgDisplay.setOrigin(.5),this.draw()}return Object(N["a"])(t,[{key:"setMessage",value:function(t){this.message=t,this.msgDisplay.setText(t),this.draw()}},{key:"draw",value:function(){this.scene.graphics.lineStyle(2,15790320),this.scene.graphics.strokeRectShape(this.rect)}}]),t}(),Tt=function(t){function e(){return Object(A["a"])(this,e),Object(W["a"])(this,Object(H["a"])(e).call(this,{key:"wordomino"}))}return Object(Z["a"])(e,t),Object(N["a"])(e,[{key:"create",value:function(){var t=this;this.gameState="PICK_CARD",this.helpTiles=[1,1],this.graphics=this.add.graphics(),this.letterPool=new mt(this,10,10),this.letterPool.fillGrid(),this.cardPool=new Ot(this),this.cardPool.setChoiceCoordinates(10,255,125,255),this.msgBox=new jt(this,10,380),this.msgBox.setMessage("Pick a puzzle shape card"),this.words=new Ct(this,255,10),this.puzzle=new xt(this,255,255),this.draw(),this.gameTimer=this.time.addEvent({delay:1e3,callback:this.tick,callbackScope:this,loop:!0}),this.input.on("pointermove",(function(e){t.cardPool.isActive()&&t.cardPool.mouseMove(e.x,e.y)})),this.input.on("pointerdown",(function(e){t.cardPool.isActive()&&t.cardPool.mouseDown(e.x,e.y)}))}},{key:"tick",value:function(){if("PICK_CARD"==this.gameState){var t=this.cardPool.cardPicked();t&&(this.gameState="PICK_LETTERS",this.msgBox.setMessage("Fill shape with letters"),this.msgBox.draw(),this.words.setCard(t),this.words.draw())}}},{key:"draw",value:function(){this.letterPool.draw(),this.cardPool.draw(),this.msgBox.draw(),this.words.draw(),this.puzzle.draw();var t=45;this.graphics.lineStyle(1,4473924),this.graphics.fillStyle(14342874);for(var e=0;e<this.helpTiles.length;e++){var i=190,s=380+t*e+10*e,a=new D.a.Geom.Rectangle(i,s,t,t);this.graphics.strokeRectShape(a),1==this.helpTiles[e]&&this.graphics.fillRectShape(a)}}}]),e}(D.a.Scene),Rt={name:"Wordomino",components:{Studio332Header:C},mounted:function(){var t={scale:{mode:D.a.Scale.FIT,autoCenter:D.a.Scale.NO_CENTER},parent:"wordomino",width:490,height:490,title:"Wordomino",backgroundColor:"000a12",scene:[Tt]};window.game=new D.a.Game(t)},destroyed:function(){window.game.destroy(!0)}},_t=Rt,It=(i("b3d5"),Object(l["a"])(_t,pt,gt,!1,null,"cc36e304",null)),Lt=It.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Studio332Header",{attrs:{page:"games"}}),i("div",{attrs:{id:"squaresgame"}})],1)},Pt=[],Bt=function(){function t(e,i,s){Object(A["a"])(this,t),this.color=e,this.active=!1,this.rect=new D.a.Geom.Rectangle(i,s,t.SIZE,t.SIZE),this.invisible=!1}return Object(N["a"])(t,null,[{key:"SIZE",get:function(){return 50}}]),Object(N["a"])(t,[{key:"getCenter",value:function(){return D.a.Geom.Rectangle.GetCenter(this.rect)}},{key:"setInvisible",value:function(){this.invisible=!0}},{key:"setInactive",value:function(){this.inactive=!0}},{key:"getColor",value:function(){return this.color}},{key:"setColor",value:function(t){this.color=t}},{key:"draw",value:function(t){if(!this.invisible){var e=[2171169,14743546,15503,6198003];t.fillStyle(e[this.color]),t.fillRectShape(this.rect),t.lineStyle(1,0),t.fillRectShape(this.rect),t.strokeRectShape(this.rect)}}},{key:"hit",value:function(t,e){return!this.invisible&&!this.inactive&&(this.active=this.rect.contains(t,e),this.active)}}]),t}(),Ft=function(t){function e(){return Object(A["a"])(this,e),Object(W["a"])(this,Object(H["a"])(e).call(this,{key:"squares"}))}return Object(Z["a"])(e,t),Object(N["a"])(e,[{key:"create",value:function(){for(var t=this,e=[],i=0;i<64;i++)e.push(i%4);for(var s=e.length;s;s-=1){var a=Math.floor(Math.random()*s),r=e[s-1];e[s-1]=e[a],e[a]=r}this.graphics=this.add.graphics(),this.grid=[];for(var n=0;n<=7;n++){for(var o=[],h=0;h<=7;h++){var c=(Bt.SIZE+1)*h+1,l=(Bt.SIZE+1)*n+1,u=new Bt(e.pop(),c,l);o.push(u),0!=n&&7!=n&&0!=h&&7!=h||u.setInactive()}this.grid.push(o)}this.border=new D.a.Geom.Rectangle(51,51,306,306),this.showBorder=!0,this.redraw(),this.input.on("pointermove",(function(e){for(var i=e.y,s=e.x,a=0;a<=7;a++)for(var r=0;r<=7;r++)t.grid[a][r].hit(s,i);t.redraw()})),this.input.on("pointerup",(function(e){for(var i=e.y,s=e.x,a=function(e){for(var a=function(a){if(t.grid[e][a].hit(s,i)){var r=t.grid[e][a].getCenter(),n=1.5*(Bt.SIZE+1),o=r.x-n,h=r.y-n,c=3*(Bt.SIZE+1),l=3*(Bt.SIZE+1);t.game.renderer.snapshotArea(o,h,c,l,(function(i){var s=new D.a.Geom.Rectangle(o,h,c,l);t.graphics.fillStyle(0),t.graphics.fillRectShape(s),t.textures.addImage("snap",i);var n=t.add.image(r.x,r.y,"snap");t.tweens.add({targets:[n],rotation:1.5708,duration:500,ease:"Linear",onCompleteParams:[t],onComplete:function(){t.textures.remove("snap"),n.destroy(),t.rotateAround(e,a),t.redraw()}})}))}},r=0;r<=7;r++)a(r)},r=0;r<=7;r++)a(r)}))}},{key:"drawBorder",value:function(){this.graphics.lineStyle(2,0),this.showBorder&&this.graphics.lineStyle(2,11162965),this.graphics.strokeRectShape(this.border)}},{key:"rotateAround",value:function(t,e){for(var i=[[0,0,0],[0,0,0],[0,0,0]],s=t-1,a=e-1,r=t-1;r<=t+1;r++)for(var n=e-1;n<=e+1;n++){var o=this.grid[r][n].getColor(),h=r-s,c=n-a,l=c,u=2-h;i[l][u]=o}for(var d=0;d<=2;d++)for(var f=0;f<=2;f++)this.grid[d+s][f+a].setColor(i[d][f])}},{key:"redraw",value:function(){this.graphics.clear();for(var t=0;t<=7;t++)for(var e=0;e<=7;e++)this.grid[t][e].draw(this.graphics);this.drawBorder()}}]),e}(D.a.Scene),Gt={name:"Squares",components:{Studio332Header:C},mounted:function(){var t={scale:{mode:D.a.Scale.FIT,autoCenter:D.a.Scale.NO_CENTER},parent:"squaresgame",width:600,height:640,title:"Squares",scene:[Ft]};window.game=new D.a.Game(t)},destroyed:function(){window.game.destroy(!0)}},zt=Gt,Mt=(i("c278"),Object(l["a"])(zt,Et,Pt,!1,null,"44b94885",null)),Dt=Mt.exports;s["a"].use(m["a"]);var At=new m["a"]({mode:"history",routes:[{path:"/",name:"home",component:_},{path:"/games",name:"games",component:F},{path:"/latticewords",name:"latticewords",component:ft},{path:"/squares",name:"squares",component:Dt},{path:"/wordomino",name:"wordomino",component:Lt}]});s["a"].config.productionTip=!1,new s["a"]({router:At,render:function(t){return t(v)}}).$mount("#app")},"64a9":function(t,e,i){},"6e92":function(t,e,i){"use strict";var s=i("ed15"),a=i.n(s);a.a},aa31:function(t,e,i){},b0b2:function(t,e,i){},b38c:function(t,e,i){},b3d5:function(t,e,i){"use strict";var s=i("b0b2"),a=i.n(s);a.a},bdd3:function(t,e,i){},c278:function(t,e,i){"use strict";var s=i("b38c"),a=i.n(s);a.a},cf23:function(t,e,i){},e1ce:function(t,e,i){},e88e:function(t,e,i){t.exports=i.p+"img/s332small.b70df8db.png"},ed15:function(t,e,i){}});
//# sourceMappingURL=app.f9ab7797.js.map